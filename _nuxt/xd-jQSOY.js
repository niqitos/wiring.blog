import{a as x,u as G}from"./kUtVlwu6.js";import{c as J,u as X}from"./B6-bDuw_.js";import{B as C,r as E,K as Q,I as d,H as e,G as p,i as n,w as i,J as D,o as H,f as I,e as _,M,N as R,R as W,y as Y,ai as S,L as K,n as B,aX as Z,A as k,t as P,d as F,g as ee}from"#entry";import{u as q}from"./D7lV5l97.js";import{P as w}from"./BJQlc9uT.js";import{P as z}from"./ZVapUXtn.js";import{D as te,g as oe,F as ae,u as se,a as le,T as re,b as ne,V as ue}from"./BlORZ-1W.js";import{g as N}from"./FUKBWQwh.js";import{u as T}from"./Iz_x7k31.js";import{u as ie}from"./DDDiA8-R.js";import{t as V}from"./DZsQe2JO.js";import{_ as de}from"./CkNTzhQf.js";import{r as pe}from"./B-2_zfi6.js";const[O,fe]=J("DialogRoot");var ce=C({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(a,{emit:r}){const t=a,o=X(t,"open",r,{defaultValue:t.defaultOpen,passive:t.open===void 0}),v=E(),y=E(),{modal:f}=Q(t);return fe({open:o,modal:f,openModal:()=>{o.value=!0},onOpenChange:u=>{o.value=u},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:v,contentElement:y}),(u,l)=>d(u.$slots,"default",{open:e(o),close:()=>o.value=!1})}}),ve=ce,me=C({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(a){const r=a;q();const t=O();return(s,o)=>(n(),p(e(w),D(r,{type:s.as==="button"?"button":void 0,onClick:o[0]||(o[0]=v=>e(t).onOpenChange(!1))}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["type"]))}}),ye=me,ge=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:r}){const t=a,s=r,o=O(),{forwardRef:v,currentElement:y}=q();return o.titleId||=T(void 0,"reka-dialog-title"),o.descriptionId||=T(void 0,"reka-dialog-description"),H(()=>{o.contentElement=y,N()!==document.body&&(o.triggerElement.value=N())}),(f,u)=>(n(),p(e(ae),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:u[5]||(u[5]=l=>s("openAutoFocus",l)),onUnmountAutoFocus:u[6]||(u[6]=l=>s("closeAutoFocus",l))},{default:i(()=>[I(e(te),D({id:e(o).contentId,ref:e(v),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,"data-state":e(oe)(e(o).open.value)},f.$attrs,{onDismiss:u[0]||(u[0]=l=>e(o).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=l=>s("escapeKeyDown",l)),onFocusOutside:u[2]||(u[2]=l=>s("focusOutside",l)),onInteractOutside:u[3]||(u[3]=l=>s("interactOutside",l)),onPointerDownOutside:u[4]||(u[4]=l=>s("pointerDownOutside",l))}),{default:i(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),U=ge,_e=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:r}){const t=a,s=r,o=O(),v=x(s),{forwardRef:y,currentElement:f}=q();return se(f),(u,l)=>(n(),p(U,D({...t,...e(v)},{ref:e(y),"trap-focus":e(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:l[0]||(l[0]=c=>{c.defaultPrevented||(c.preventDefault(),e(o).triggerElement.value?.focus())}),onPointerDownOutside:l[1]||(l[1]=c=>{const g=c.detail.originalEvent,m=g.button===0&&g.ctrlKey===!0;(g.button===2||m)&&c.preventDefault()}),onFocusOutside:l[2]||(l[2]=c=>{c.preventDefault()})}),{default:i(()=>[d(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),De=_e,Ce=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:r}){const t=a,o=x(r);q();const v=O(),y=E(!1),f=E(!1);return(u,l)=>(n(),p(U,D({...t,...e(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:l[0]||(l[0]=c=>{c.defaultPrevented||(y.value||e(v).triggerElement.value?.focus(),c.preventDefault()),y.value=!1,f.value=!1}),onInteractOutside:l[1]||(l[1]=c=>{c.defaultPrevented||(y.value=!0,c.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const g=c.target;e(v).triggerElement.value?.contains(g)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&f.value&&c.preventDefault()})}),{default:i(()=>[d(u.$slots,"default")]),_:3},16))}}),qe=Ce,Oe=C({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:r}){const t=a,s=r,o=O(),v=x(s),{forwardRef:y}=q();return(f,u)=>(n(),p(e(z),{present:f.forceMount||e(o).open.value},{default:i(()=>[e(o).modal.value?(n(),p(De,D({key:0,ref:e(y)},{...t,...e(v),...f.$attrs}),{default:i(()=>[d(f.$slots,"default")]),_:3},16)):(n(),p(qe,D({key:1,ref:e(y)},{...t,...e(v),...f.$attrs}),{default:i(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),be=Oe,Be=C({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(a){const r=a;q();const t=O();return(s,o)=>(n(),p(e(w),D(r,{id:e(t).descriptionId}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),L=Be,he=C({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const r=O();return le(!0),q(),(t,s)=>(n(),p(e(w),{as:t.as,"as-child":t.asChild,"data-state":e(r).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:i(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),we=he,$e=C({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const r=O(),{forwardRef:t}=q();return(s,o)=>e(r)?.modal.value?(n(),p(e(z),{key:0,present:s.forceMount||e(r).open.value},{default:i(()=>[I(we,D(s.$attrs,{ref:e(t),as:s.as,"as-child":s.asChild}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):_("v-if",!0)}}),ke=$e,Pe=C({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(a){const r=a;return(t,s)=>(n(),p(e(re),M(R(r)),{default:i(()=>[d(t.$slots,"default")]),_:3},16))}}),Ee=Pe,Ie=C({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(a){const r=a,t=O();return q(),(s,o)=>(n(),p(e(w),D(r,{id:e(t).titleId}),{default:i(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),j=Ie,Ae=C({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(a){const r=a,t=O(),{forwardRef:s,currentElement:o}=q();return t.contentId||=T(void 0,"reka-dialog-content"),H(()=>{t.triggerElement.value=o.value}),(v,y)=>(n(),p(e(w),D(r,{ref:e(s),type:v.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:i(()=>[d(v.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Fe=Ae;const Me={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},Je={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(a,{emit:r}){const t=a,s=r,o=W(),{t:v}=ie(),y=Y(),f=G(pe(t,"open","defaultOpen","modal"),s),u=ne(S(()=>t.portal)),l=S(()=>t.content),c=K(()=>{const m={closeAutoFocus:b=>b.preventDefault()};return t.dismissible?m:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce(($,h)=>($[h]=A=>{A.preventDefault(),s("close:prevent")},$),m)}),g=K(()=>V({extend:V(Me),...y.ui?.modal||{}})({transition:t.transition,fullscreen:t.fullscreen}));return(m,b)=>(n(),p(e(ve),M(R(e(f))),{default:i(({open:$,close:h})=>[o.default?(n(),p(e(Fe),{key:0,"as-child":"",class:B(t.class)},{default:i(()=>[d(m.$slots,"default",{open:$})]),_:2},1032,["class"])):_("",!0),I(e(Ee),M(R(e(u))),{default:i(()=>[a.overlay?(n(),p(e(ke),{key:0,class:B(g.value.overlay({class:t.ui?.overlay}))},null,8,["class"])):_("",!0),I(e(be),D({class:g.value.content({class:[!o.default&&t.class,t.ui?.content]})},l.value,{onAfterEnter:b[0]||(b[0]=A=>s("after:enter")),onAfterLeave:b[1]||(b[1]=A=>s("after:leave"))},Z(c.value)),{default:i(()=>[o.content&&(a.title||o.title||a.description||o.description)?(n(),p(e(ue),{key:0},{default:i(()=>[a.title||o.title?(n(),p(e(j),{key:0},{default:i(()=>[d(m.$slots,"title",{},()=>[k(P(a.title),1)])]),_:3})):_("",!0),a.description||o.description?(n(),p(e(L),{key:1},{default:i(()=>[d(m.$slots,"description",{},()=>[k(P(a.description),1)])]),_:3})):_("",!0)]),_:3})):_("",!0),d(m.$slots,"content",{close:h},()=>[o.header||a.title||o.title||a.description||o.description||t.close||o.close?(n(),F("div",{key:0,class:B(g.value.header({class:t.ui?.header}))},[d(m.$slots,"header",{close:h},()=>[ee("div",{class:B(g.value.wrapper({class:t.ui?.wrapper}))},[a.title||o.title?(n(),p(e(j),{key:0,class:B(g.value.title({class:t.ui?.title}))},{default:i(()=>[d(m.$slots,"title",{},()=>[k(P(a.title),1)])]),_:3},8,["class"])):_("",!0),a.description||o.description?(n(),p(e(L),{key:1,class:B(g.value.description({class:t.ui?.description}))},{default:i(()=>[d(m.$slots,"description",{},()=>[k(P(a.description),1)])]),_:3},8,["class"])):_("",!0)],2),d(m.$slots,"actions"),t.close||o.close?(n(),p(e(ye),{key:0,"as-child":""},{default:i(()=>[d(m.$slots,"close",{close:h,ui:g.value},()=>[t.close?(n(),p(de,D({key:0,icon:a.closeIcon||e(y).ui.icons.close,color:"neutral",variant:"ghost","aria-label":e(v)("modal.close")},typeof t.close=="object"?t.close:{},{class:g.value.close({class:t.ui?.close})}),null,16,["icon","aria-label","class"])):_("",!0)])]),_:2},1024)):_("",!0)])],2)):_("",!0),o.body?(n(),F("div",{key:1,class:B(g.value.body({class:t.ui?.body}))},[d(m.$slots,"body",{close:h})],2)):_("",!0),o.footer?(n(),F("div",{key:2,class:B(g.value.footer({class:t.ui?.footer}))},[d(m.$slots,"footer",{close:h})],2)):_("",!0)])]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}};export{Je as _};
